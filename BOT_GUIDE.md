# ü§ñ VIN Report Bot - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ

## üìã –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

VIN Report Bot - —ç—Ç–æ Telegram –±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ –ø–æ VIN –Ω–æ–º–µ—Ä–∞–º –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –±–æ—Ç ‚Üí –º–µ–Ω–µ–¥–∂–µ—Ä ‚Üí –æ—Ç—á–µ—Ç".

## üîÑ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç VIN
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç VIN –Ω–æ–º–µ—Ä (17 —Å–∏–º–≤–æ–ª–æ–≤) –±–æ—Ç—É
- –°–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç VIN (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç, –∏—Å–∫–ª—é—á–∞–µ—Ç I, O, Q)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö –∑–∞—è–≤–æ–∫

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏
- –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "NEW"
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–º–µ—Ä –∑–∞—è–≤–∫–∏ –∏ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ó–∞—è–≤–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —á–∞—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
- –ú–µ–Ω–µ–¥–∂–µ—Ä –≤–∏–¥–∏—Ç –∫–∞—Ä—Ç–æ—á–∫—É –∑–∞—è–≤–∫–∏ —Å –∫–Ω–æ–ø–∫–æ–π "–í–∑—è—Ç—å –∑–∞—è–≤–∫—É"
- –ü–æ—Å–ª–µ –≤–∑—è—Ç–∏—è –∑–∞—è–≤–∫–∏ —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "TAKEN"
- –ú–µ–Ω–µ–¥–∂–µ—Ä –≥–æ—Ç–æ–≤–∏—Ç PDF –æ—Ç—á–µ—Ç

### 4. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏
- –ú–µ–Ω–µ–¥–∂–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç PDF –æ—Ç—á–µ—Ç (2 —Å–ø–æ—Å–æ–±–∞):
  - –û—Ç–≤–µ—Ç –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –∑–∞—è–≤–∫–∏ —Å PDF
  - –ö–æ–º–∞–Ω–¥–∞ `/done <–Ω–æ–º–µ—Ä_–∑–∞—è–≤–∫–∏>` + PDF
- –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "DONE"
- –û—Ç—á–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## üß† –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```python
# 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
@user_router.message(F.text)
async def handle_vin_message(message: Message, bot: Bot):
    text = message.text.strip()
    
    # 2. –í–∞–ª–∏–¥–∞—Ü–∏—è VIN
    is_valid, error = VINValidator.validate(text)
    if not is_valid:
        await message.answer(f"‚ùå –û—à–∏–±–∫–∞: {error}")
        return
    
    # 3. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è VIN
    normalized_vin = VINValidator.normalize(text)
    
    # 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
    existing_ticket = await check_existing_ticket(normalized_vin, user_id)
    if existing_ticket:
        await show_existing_ticket_status(message, existing_ticket)
        return
    
    # 5. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏
    ticket = await create_ticket(normalized_vin, user_id)
    
    # 6. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    await notify_user_about_ticket(message, ticket)
    
    # 7. –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —á–∞—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
    await send_ticket_to_managers(bot, ticket)
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä–∞

```python
# 1. –í–∑—è—Ç–∏–µ –∑–∞—è–≤–∫–∏
@callback_router.callback_query(lambda c: c.data.startswith("take_ticket:"))
async def handle_take_ticket(callback: CallbackQuery):
    ticket_id = extract_ticket_id(callback.data)
    
    # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏
    ticket.status = "TAKEN"
    ticket.assignee_id = manager_id
    await session.commit()
    
    # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞—è–≤–∫–∏
    await update_ticket_card(callback.message, ticket)

# 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏
@manager_router.message(F.document)
async def handle_document_reply(message: Message):
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –∑–∞—è–≤–∫–∏ –∏–∑ –æ—Ç–≤–µ—Ç–∞
    ticket_id = extract_ticket_id_from_reply(message)
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è PDF
    if not is_valid_pdf(message.document):
        await message.answer("‚ùå –û—Ç–ø—Ä–∞–≤—å—Ç–µ PDF —Ñ–∞–π–ª")
        return
    
    # –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏
    await complete_ticket(ticket_id, message.document)
```

### –ê–ª–≥–æ—Ä–∏—Ç–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏ VIN

```python
class VINValidator:
    VIN_PATTERN = re.compile(r"^[A-HJ-NPR-Z0-9]{17}$")
    FORBIDDEN_CHARS = {"I", "O", "Q"}
    
    @classmethod
    def validate(cls, vin: str) -> tuple[bool, Optional[str]]:
        # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ—Ç—É
        if not vin:
            return False, "VIN –Ω–æ–º–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º"
        
        # 2. –û—á–∏—Å—Ç–∫–∞ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
        cleaned_vin = vin.strip().upper()
        
        # 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã
        if len(cleaned_vin) != 17:
            return False, "VIN –Ω–æ–º–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä–æ–≤–Ω–æ 17 —Å–∏–º–≤–æ–ª–æ–≤"
        
        # 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
        forbidden_found = set(cleaned_vin) & cls.FORBIDDEN_CHARS
        if forbidden_found:
            return False, f"–ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã: {', '.join(forbidden_found)}"
        
        # 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é
        if not cls.VIN_PATTERN.match(cleaned_vin):
            return False, "VIN –Ω–æ–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã"
        
        return True, None
```

### –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞—è–≤–∫–∏ (State Machine)

```python
# –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
NEW ‚Üí TAKEN    # –ú–µ–Ω–µ–¥–∂–µ—Ä –≤–∑—è–ª –∑–∞—è–≤–∫—É
TAKEN ‚Üí DONE   # –ú–µ–Ω–µ–¥–∂–µ—Ä –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ç—á–µ—Ç
DONE ‚Üí (—Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

# –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏
def can_be_taken(ticket):
    return ticket.status == "NEW"

def can_be_done(ticket):
    return ticket.status in ("NEW", "TAKEN")
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```python
# 1. –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
try:
    is_valid, error = VINValidator.validate(vin)
    if not is_valid:
        await handle_validation_error(message, error)
        return
except Exception as e:
    await handle_system_error(message, "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏")

# 2. –û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
try:
    async with get_db_session() as session:
        # –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î
        await session.commit()
except Exception as e:
    logger.error("Database error", error=str(e))
    await handle_database_error(message)

# 3. –û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
try:
    await bot.send_message(chat_id, text)
except Exception as e:
    logger.error("Send message error", error=str(e))
    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```python
# –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logger.info(
    "–°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è –∑–∞—è–≤–∫–∞",
    ticket_id=ticket.id,
    user_id=user_id,
    vin=normalized_vin,
    status="NEW"
)

logger.error(
    "–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏",
    user_id=user_id,
    error=str(e),
    vin=vin
)

# –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫
- –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–æ–∫
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

```python
# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
@user_router.message(F.text)
async def handle_vin_message(message: Message, bot: Bot):
    # –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
    task = asyncio.create_task(process_vin_request(message, bot))
    
    # –ù–µ –±–ª–æ–∫–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫
    await task

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫
async def process_multiple_tickets():
    tasks = []
    for ticket in pending_tickets:
        task = asyncio.create_task(process_ticket(ticket))
        tasks.append(task)
    
    # –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á
    await asyncio.gather(*tasks)
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí VIN ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Üí –ú–µ–Ω–µ–¥–∂–µ—Ä—ã ‚Üí PDF ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
     ‚Üì              ‚Üì              ‚Üì              ‚Üì           ‚Üì
  Telegram      –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã    SQLAlchemy     Callback     –û—Ç–ø—Ä–∞–≤–∫–∞
   Bot API      (17 —Å–∏–º–≤–æ–ª–æ–≤)   (SQLite)      –∫–Ω–æ–ø–∫–∏      —Ñ–∞–π–ª–æ–≤
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ bot.py              # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –±–æ—Ç–∞
‚îú‚îÄ‚îÄ db.py               # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ models.py           # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (Ticket)
‚îú‚îÄ‚îÄ settings.py         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ validators.py       # –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã (VIN, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥)
‚îú‚îÄ‚îÄ keyboards.py        # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îî‚îÄ‚îÄ handlers/
    ‚îú‚îÄ‚îÄ user.py         # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    ‚îú‚îÄ‚îÄ manager.py      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
    ‚îî‚îÄ‚îÄ callbacks.py    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `tickets`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | Integer | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∑–∞—è–≤–∫–∏ (–∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç) |
| `vin` | String(17) | VIN –Ω–æ–º–µ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è |
| `user_id` | BigInteger | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram |
| `status` | String(10) | –°—Ç–∞—Ç—É—Å: NEW, TAKEN, DONE |
| `assignee_id` | BigInteger | ID –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ |
| `created_at` | DateTime | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏ |
| `updated_at` | DateTime | –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

## üìä –°—Ç–∞—Ç—É—Å—ã –∑–∞—è–≤–æ–∫

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | –î–µ–π—Å—Ç–≤–∏—è |
|--------|----------|----------|
| **NEW** | –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ | –ú–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç –≤–∑—è—Ç—å –∑–∞—è–≤–∫—É |
| **TAKEN** | –ù–∞–∑–Ω–∞—á–µ–Ω–∞ –º–µ–Ω–µ–¥–∂–µ—Ä—É | –ú–µ–Ω–µ–¥–∂–µ—Ä –≥–æ—Ç–æ–≤–∏—Ç –æ—Ç—á–µ—Ç |
| **DONE** | –ó–∞–≤–µ—Ä—à–µ–Ω–∞ | –û—Ç—á–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é |

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
```env
BOT_TOKEN=your_telegram_bot_token
MANAGER_CHAT_ID=your_manager_chat_id
DATABASE_URL=sqlite:///./vin_reports.db
LOG_LEVEL=INFO
MAX_FILE_SIZE=52428800  # 50MB –≤ –±–∞–π—Ç–∞—Ö
```

### –ó–∞–ø—É—Å–∫
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python main.py
```

## üë• –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç VIN –Ω–æ–º–µ—Ä –±–æ—Ç—É
- –ü–æ–ª—É—á–∞–µ—Ç –Ω–æ–º–µ—Ä –∑–∞—è–≤–∫–∏
- –ü–æ–ª—É—á–∞–µ—Ç PDF –æ—Ç—á–µ—Ç –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### –ú–µ–Ω–µ–¥–∂–µ—Ä
- –í–∏–¥–∏—Ç –Ω–æ–≤—ã–µ –∑–∞—è–≤–∫–∏ –≤ —á–∞—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- –ú–æ–∂–µ—Ç –≤–∑—è—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —Å–µ–±—è
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≥–æ—Ç–æ–≤—ã–π PDF –æ—Ç—á–µ—Ç
- –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–± –æ—Ç–ø—Ä–∞–≤–∫–µ

## üéØ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `/start` - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- `VIN –Ω–æ–º–µ—Ä` - –û—Ç–ø—Ä–∞–≤–∫–∞ VIN –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏

### –î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- `/done <–Ω–æ–º–µ—Ä_–∑–∞—è–≤–∫–∏>` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ —Å PDF

## üîç –í–∞–ª–∏–¥–∞—Ü–∏—è VIN

VIN –Ω–æ–º–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
- ‚úÖ –†–æ–≤–Ω–æ 17 —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –¢–æ–ª—å–∫–æ –±—É–∫–≤—ã A-H, J-N, P-R, T-Z –∏ —Ü–∏—Ñ—Ä—ã 0-9
- ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω—ã –±—É–∫–≤—ã I, O, Q
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É

**–ü—Ä–∏–º–µ—Ä—ã:**
- ‚úÖ `1HGBH41JXMN109186` - –≤–∞–ª–∏–¥–Ω—ã–π
- ‚ùå `1HGBH41JXMN10918` - —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π
- ‚ùå `1HGBH41JXMN109186O` - —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—É—é –±—É–∫–≤—É O

## üì± –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–°—Ç–∞—Ä—Ç–æ–≤–∞—è**: "–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –æ—Ç—á–µ—Ç?", "–ü–æ–¥–¥–µ—Ä–∂–∫–∞"
- **–ü–æ–º–æ—â—å**: "–ù–∞–∑–∞–¥"

### –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- **–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞**: "–í–∑—è—Ç—å –∑–∞—è–≤–∫—É", "–ö–∞–∫ –∑–∞–≤–µ—Ä—à–∏—Ç—å?"
- **–ù–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞**: "–ö–∞–∫ –∑–∞–≤–µ—Ä—à–∏—Ç—å?"
- **–ü–æ–¥—Å–∫–∞–∑–∫–∏**: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å PDF –≤ –æ—Ç–≤–µ—Ç", "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É /done"

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ VIN
- –ù–µ–≤–µ—Ä–Ω–∞—è –¥–ª–∏–Ω–∞
- –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

### –û—à–∏–±–∫–∏ –∑–∞—è–≤–æ–∫
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫
- –ó–∞—è–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- –ù–µ–≤–µ—Ä–Ω—ã–π —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏

### –û—à–∏–±–∫–∏ —Ñ–∞–π–ª–æ–≤
- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (–º–∞–∫—Å–∏–º—É–º 50 –ú–ë)
- –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (—Ç–æ–ª—å–∫–æ PDF)

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
- **–ö–æ–Ω—Å–æ–ª—å**: INFO —É—Ä–æ–≤–µ–Ω—å –∏ –≤—ã—à–µ
- **–§–∞–π–ª**: `logs/bot.log` (DEBUG —É—Ä–æ–≤–µ–Ω—å)
- **–†–æ—Ç–∞—Ü–∏—è**: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ, —Ö—Ä–∞–Ω–µ–Ω–∏–µ 30 –¥–Ω–µ–π

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–º–∞–Ω–¥–∞–º
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker
```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t vin-report-bot .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose up -d
```

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- SQLite (–∏–ª–∏ PostgreSQL –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- 50 –ú–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –¥–ª—è –ª–æ–≥–æ–≤

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/bot.log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** $(date)  
**–ê–≤—Ç–æ—Ä:** VIN Report Bot Team
